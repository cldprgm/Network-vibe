{% extends "main.html" %}

{% block content %}
    <div class="container mt-4">
        <div class="card border-0 bg-dark text-white profile-card" style='width: 45rem;'>
            <h3 class="mb-3 font-bold ml-3 mt-3" style='color: rgba(255, 255, 255, 0.82);'>Create post</h3>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-3 mx-3">
                    <label for="id_community" class="form-label" >Community</label>
                    <div class='select-wrapper'>
                        <span></span>
                        {{ form.community }}
                    </div>
                </div class="mb-3 mx-3">

                <div class="mb-3 mx-3">
                    {{ form.title }}
                </div>

                <div class="mb-3 mx-3 border-white" id="body-section">
                    {{ form.description }}  
                </div>

                <div class="mb-3 mx-3">
                    <label for="id_status" class="form-label">Post status</label>
                    {{ form.status }}
                </div>

                <div class="mb-3 mx-3" id="media-section">
                    {{ media_formset.management_form }}
                    {% for media_form in media_formset %}
                        {{ media_form.as_p }}
                    {% endfor %}
                </div>
                <div class="mb-3 mx-3">
                    <button type="submit" class="btn btn-primary mt-2 rounded-4">Create Post</button>
                </div>
            </form>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    {{ form.media }}
{% endblock content %}